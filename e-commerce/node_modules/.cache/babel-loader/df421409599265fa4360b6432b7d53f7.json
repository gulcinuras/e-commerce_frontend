{"ast":null,"code":"import _regeneratorRuntime from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Program Files/Git/ecommerce/e-commerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import React,{Component}from'react';import'./SelectOpt';import'./Checkbox';import{Button,Container,Form,Input,Modal,Row}from'reactstrap';import tracker from'../src/api/tracker';var auth=/*#__PURE__*/function(_Component){_inherits(auth,_Component);var _super=_createSuper(auth);function auth(){var _this;_classCallCheck(this,auth);_this=_super.call(this);_this.handleSubmit=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log(\"trydayım\");_context.next=4;return tracker.post('/activateEmail',{token:_this.state.token});case 4:response=_context.sent;console.log(response);if(response.data.status===\"error\"&&response.data.error===\"Incorrect or expired link\"){_this.setState({invalid:true,isexist:false});}if(response.data.message===\"verified\"&&response.status===200&&response.statusText===\"OK\"){_this.setState({token:response.data.token});localStorage.setItem('token',response.data.token);_this.props.history.push(\"/Homepage\");}_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));_this.state={token:\"\",invalid:false};_this.handleToken=_this.handleToken.bind(_assertThisInitialized(_this));return _this;}_createClass(auth,[{key:\"handleToken\",value:function handleToken(e){this.setState({token:e.target.value});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"form\",style:{height:\"50vh\"},children:/*#__PURE__*/_jsx(Container,{className:\"form-container\",style:{width:\"70vh\"},children:/*#__PURE__*/_jsx(Row,{className:\"form\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(\"div\",{class:\"row\",className:\"mb-2 pageheading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login-check\",children:\" Please enter the Token that has been sent to your email! \"})}),/*#__PURE__*/_jsx(Input,{className:\"mb-2\",type:\"text\",onChange:this.handleToken,placeholder:\"Enter Token\"}),this.state.invalid?/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{color:\"#c29fdc\",justifyContent:\"space-evenly\"},children:/*#__PURE__*/_jsx(\"p\",{children:\"Invalid or expired token! Please check your email again.\"})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"row\",style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Button,{style:{width:\"auto\"},className:\"b-login\",onClick:this.handleSubmit,color:\"secondary\",block:true,children:[\"Create Account \",this.state.invalid]})})]})})})})});}}]);return auth;}(Component);export default auth;","map":{"version":3,"sources":["C:/Program Files/Git/ecommerce/e-commerce-frontend/src/auth.js"],"names":["React","Component","Button","Container","Form","Input","Modal","Row","tracker","auth","handleSubmit","console","log","post","token","state","response","data","status","error","setState","invalid","isexist","message","statusText","localStorage","setItem","props","history","push","handleToken","bind","e","target","value","height","width","color","justifyContent"],"mappings":"yyCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAO,aAAP,CACA,MAAO,YAAP,CACA,OAASC,MAAT,CAAiBC,SAAjB,CAA4BC,IAA5B,CAAkCC,KAAlC,CAAyCC,KAAzC,CAAgDC,GAAhD,KAA2D,YAA3D,CAEA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,C,GAEMC,CAAAA,I,4FACF,eAAc,sCACV,wBADU,MAYdC,YAZc,sEAYC,gKAGPC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAHO,sBAIgBJ,CAAAA,OAAO,CAACK,IAAR,CAAa,gBAAb,CAA+B,CAClDC,KAAK,CAAE,MAAKC,KAAL,CAAWD,KADgC,CAA/B,CAJhB,QAIDE,QAJC,eAOPL,OAAO,CAACC,GAAR,CAAYI,QAAZ,EACA,GAAIA,QAAQ,CAACC,IAAT,CAAcC,MAAd,GAAyB,OAAzB,EAAoCF,QAAQ,CAACC,IAAT,CAAcE,KAAd,GAAwB,2BAAhE,CAA6F,CACzF,MAAKC,QAAL,CAAc,CAAEC,OAAO,CAAE,IAAX,CAAiBC,OAAO,CAAC,KAAzB,CAAd,EACH,CAED,GAAIN,QAAQ,CAACC,IAAT,CAAcM,OAAd,GAA0B,UAA1B,EAAwCP,QAAQ,CAACE,MAAT,GAAoB,GAA5D,EAAmEF,QAAQ,CAACQ,UAAT,GAAwB,IAA/F,CAAqG,CACjG,MAAKJ,QAAL,CAAc,CAAEN,KAAK,CAAEE,QAAQ,CAACC,IAAT,CAAcH,KAAvB,CAAd,EACAW,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BV,QAAQ,CAACC,IAAT,CAAcH,KAA5C,EACA,MAAKa,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,CAhBM,iFAmBPlB,OAAO,CAACC,GAAR,CAAY,YAAEW,OAAd,EAnBO,qEAZD,GAEV,MAAKR,KAAL,CAAa,CACTD,KAAK,CAAE,EADE,CAETO,OAAO,CAAE,KAFA,CAAb,CAKA,MAAKS,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CAPU,aAQb,C,iEACWC,C,CAAG,CACX,KAAKZ,QAAL,CAAc,CAAEN,KAAK,CAAEkB,CAAC,CAACC,MAAF,CAASC,KAAlB,CAAd,EACH,C,uCAwBQ,CACL,mBACI,sCACA,YAAM,SAAS,CAAC,MAAhB,CAAuB,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAV,CAA9B,uBAEI,KAAE,SAAF,EAAY,SAAS,CAAC,gBAAtB,CAAuC,KAAK,CAAE,CAAEC,KAAK,CAAE,MAAT,CAA9C,uBACI,KAAE,GAAF,EAAM,SAAS,CAAC,MAAhB,uBACI,MAAE,IAAF,yBACI,YAAM,KAAK,CAAC,KAAZ,CAAkB,SAAS,CAAC,kBAA5B,uBACI,YAAM,SAAS,CAAC,aAAhB,wEADJ,EADJ,cAII,KAAE,KAAF,EAAQ,SAAS,CAAC,MAAlB,CAAyB,IAAI,CAAC,MAA9B,CAAqC,QAAQ,CAAE,KAAKN,WAApD,CAAiE,WAAW,CAAC,aAA7E,EAJJ,CAKK,KAAKf,KAAL,CAAWM,OAAX,cAAqB,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAAEgB,KAAK,CAAE,SAAT,CAAoBC,cAAc,CAAE,cAApC,CAA5B,uBAAkF,+EAAlF,EAArB,CAA+K,IALpL,cAOI,YAAK,SAAS,CAAC,KAAf,CAAqB,KAAK,CAAE,CAAEA,cAAc,CAAE,QAAlB,CAA5B,uBACI,MAAE,MAAF,EAAS,KAAK,CAAE,CAAEF,KAAK,CAAE,MAAT,CAAhB,CAAmC,SAAS,CAAC,SAA7C,CACI,OAAO,CAAE,KAAK1B,YADlB,CACgC,KAAK,CAAC,WADtC,CACkD,KAAK,KADvD,6BACyE,KAAKK,KAAL,CAAWM,OADpF,GADJ,EAPJ,GADJ,EADJ,EAFJ,EADA,EADJ,CAyBH,C,kBA9DcpB,S,EAkEnB,cAAeQ,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport './SelectOpt';\r\nimport './Checkbox';\r\nimport { Button, Container, Form, Input, Modal, Row } from 'reactstrap';\r\n\r\nimport tracker from '../src/api/tracker'\r\n\r\nclass auth extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            token: \"\",\r\n            invalid: false,\r\n        }\r\n\r\n        this.handleToken = this.handleToken.bind(this);\r\n    }\r\n    handleToken(e) {\r\n        this.setState({ token: e.target.value });\r\n    }\r\n    handleSubmit = async () => {\r\n\r\n        try {\r\n            console.log(\"trydayım\")\r\n            const response = await tracker.post('/activateEmail', {\r\n                token: this.state.token,\r\n            });\r\n            console.log(response)\r\n            if (response.data.status === \"error\" && response.data.error === \"Incorrect or expired link\") {\r\n                this.setState({ invalid: true, isexist:false })\r\n            }\r\n           \r\n            if (response.data.message === \"verified\" && response.status === 200 && response.statusText === \"OK\") {\r\n                this.setState({ token: response.data.token });\r\n                localStorage.setItem('token', response.data.token);\r\n                this.props.history.push(\"/Homepage\");\r\n            }\r\n\r\n        } catch (e) {\r\n            console.log(e.message);\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            < div className=\"form\" style={{ height: \"50vh\" }} >\r\n\r\n                < Container className=\"form-container\" style={{ width: \"70vh\" }} >\r\n                    < Row className=\"form\" >\r\n                        < Form>\r\n                            < div class=\"row\" className=\"mb-2 pageheading\" >\r\n                                < div className=\"login-check\" > Please enter the Token that has been sent to your email! </div >\r\n                            </div >\r\n                            < Input className=\"mb-2\" type=\"text\" onChange={this.handleToken} placeholder=\"Enter Token\" />\r\n                            {this.state.invalid ? <div className=\"row\" style={{ color: \"#c29fdc\", justifyContent: \"space-evenly\" }}><p>Invalid or expired token! Please check your email again.</p></div> : null}\r\n\r\n                            <div className=\"row\" style={{ justifyContent: \"center\" }}>\r\n                                < Button style={{ width: \"auto\" }} className=\"b-login\"\r\n                                    onClick={this.handleSubmit} color=\"secondary\" block >Create Account {this.state.invalid}</Button >\r\n                            </div>\r\n                        </ Form>\r\n                    </ Row>\r\n\r\n                </Container>\r\n            </ div>\r\n            </>\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default auth;"]},"metadata":{},"sourceType":"module"}